

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="../../../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æ¨ç†å’Œéƒ¨ç½² &mdash; æ˜‡è…¾å¼€æº  æ–‡æ¡£</title>
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/custom.css?v=f2aa3e58" />
      <link rel="stylesheet" type="text/css" href="../../../../../../_static/sphinx-design.min.css?v=95c83b7e" />

  
      <script src="../../../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../../../_static/documentation_options.js?v=7d86a446"></script>
      <script src="../../../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../../../../_static/copybutton.js?v=f281be69"></script>
      <script src="../../../../../../_static/package_info.js?v=2b3ed588"></script>
      <script src="../../../../../../_static/statistics.js?v=da671b53"></script>
      <script src="../../../../../../_static/translations.js?v=beaddf03"></script>
      <script src="../../../../../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../../../../../../_static/js/theme.js"></script>
    <link rel="index" title="ç´¢å¼•" href="../../../../../../genindex.html" />
    <link rel="search" title="æœç´¢" href="../../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../../index.html" class="icon icon-home">
            æ˜‡è…¾å¼€æº
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="æœç´¢æ–‡æ¡£" aria-label="æœç´¢æ–‡æ¡£" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="å¯¼èˆªèœå•">
              <p class="caption" role="heading"><span class="caption-text">ğŸ å¼€å§‹ä½¿ç”¨</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ascend/quick_install.html">å¿«é€Ÿå®‰è£…æ˜‡è…¾ç¯å¢ƒ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ—ï¸  åŸºç¡€è®¾æ–½ä¸æ¡†æ¶</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../accelerate/index.html">Accelerate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../deepspeed/index.html">DeepSpeed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../kernels/index.html">kernels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../pytorch/index.html">PyTorch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../transformers/index.html">Transformers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ§  è®­ç»ƒä¸å¾®è°ƒæ¡†æ¶</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../LLaMA-Factory/index.html">LLaMA-Factory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../ms-swift/index.html">ms-swift</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../roll/index.html">ROLL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../torchtitan/index.html">TorchTitan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../trl/index.html">Transformer Reinforcement Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../VeOmni/index.html">VeOmni</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../verl/index.html">verl</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸš€ æ¨ç†ä¸æœåŠ¡</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../llama_cpp/index.html">Llama.cpp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../lm_deploy/index.html">LMDeploy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../onnxruntime/index.html">ONNX Runtime</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../sentence_transformers/index.html">Sentence Transformers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../sglang/index.html">SGLang</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../torchchat/index.html">Torchchat</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ğŸ¨ å¤šæ¨¡æ€ã€åº”ç”¨ä¸è¯„æµ‹</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../Diffusers/index.html">Diffusers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../lm_evaluation/index.html">LM-Evalution-Harness</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../open_clip/index.html">open_clip</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../opencompass/index.html">OpenCompass</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../opencv/index.html">OpenCV</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../sd_webui/index.html">Stable-Diffusion-WebUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../timm/index.html">timm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../wenet/index.html">WeNet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../whisper_cpp/index.html">Whisper.cpp</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="ç§»åŠ¨ç‰ˆå¯¼èˆªèœå•" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../index.html">æ˜‡è…¾å¼€æº</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="é¡µé¢å¯¼èˆª">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">æ¨ç†å’Œéƒ¨ç½²</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../../_sources/sources/_generated/sources/ms-swift/source/Instruction/Inference-and-deployment.md.txt" rel="nofollow"> æŸ¥çœ‹é¡µé¢æºç </a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="id1">
<h1>æ¨ç†å’Œéƒ¨ç½²<a class="headerlink" href="#id1" title="Link to this heading">ïƒ</a></h1>
<p>ä»¥ä¸‹ä¸ºswiftæ”¯æŒçš„æ¨ç†å¼•æ“ä»¥åŠæ¥å…¥éƒ¨åˆ†çš„ç›¸åº”èƒ½åŠ›ï¼Œä¸‰ç§æ¨ç†åŠ é€Ÿå¼•æ“ä¸ºSWIFTçš„æ¨ç†ã€éƒ¨ç½²ã€è¯„æµ‹æ¨¡å—æä¾›æ¨ç†åŠ é€Ÿï¼š</p>
<table border="1" class="docutils">
<thead>
<tr>
<th>æ¨ç†åŠ é€Ÿå¼•æ“</th>
<th>OpenAI API</th>
<th>å¤šæ¨¡æ€</th>
<th>é‡åŒ–æ¨¡å‹</th>
<th>å¤šLoRA</th>
<th>QLoRA</th>
<th>Batchæ¨ç†</th>
<th>å¹¶è¡ŒæŠ€æœ¯</th>
</tr>
</thead>
<tbody>
<tr>
<td>transformers</td>
<td><a href="https://github.com/modelscope/ms-swift/blob/main/examples/deploy/client/llm/chat/openai_client.py">âœ…</a></td>
<td><a href="https://github.com/modelscope/ms-swift/blob/main/examples/app/mllm.sh">âœ…</a></td>
<td>âœ…</td>
<td><a href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/demo_lora.py">âœ…</a></td>
<td>âœ…</td>
<td><a href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/transformers/batch_ddp.sh">âœ…</a></td>
<td>DDP/device_map</td>
</tr>
<tr>
<td><a href="https://github.com/vllm-project/vllm">vllm</a></td>
<td>âœ…</td>
<td><a href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/vllm/mllm_tp.sh">âœ…</a></td>
<td>âœ…</td>
<td><a href="https://github.com/modelscope/ms-swift/blob/main/examples/deploy/lora/server.sh">âœ…</a></td>
<td>âŒ</td>
<td>âœ…</td>
<td>TP/PP/DP</td>
</tr>
<tr>
<td><a href="https://github.com/sgl-project/sglang">sglang</a></td>
<td>âœ…</td>
<td>âŒ</td>
<td>âœ…</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âœ…</td>
<td>TP/PP/DP/EP</td>
</tr>
<tr>
<td><a href="https://github.com/InternLM/lmdeploy">lmdeploy</a></td>
<td>âœ…</td>
<td><a href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/lmdeploy/mllm_tp.sh">âœ…</a></td>
<td>âœ…</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âœ…</td>
<td>TP/DP</td>
</tr>
</tbody>
</table><section id="id2">
<h2>æ¨ç†<a class="headerlink" href="#id2" title="Link to this heading">ïƒ</a></h2>
<p>ms-swiftä½¿ç”¨äº†åˆ†å±‚å¼çš„è®¾è®¡æ€æƒ³ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œç•Œé¢ã€Web-UIç•Œé¢å’Œç›´æ¥ä½¿ç”¨Pythonçš„æ–¹å¼è¿›è¡Œæ¨ç†ã€‚</p>
<p>å¦‚æœè¦æŸ¥çœ‹LoRAå¾®è°ƒåæ¨¡å‹çš„æ¨ç†ï¼Œå¯ä»¥å‚è€ƒ<a class="reference external" href="./Pre-training-and-Fine-tuning.md#%E6%8E%A8%E7%90%86%E5%BE%AE%E8%B0%83%E5%90%8E%E6%A8%A1%E5%9E%8B">é¢„è®­ç»ƒä¸å¾®è°ƒæ–‡æ¡£</a>ã€‚</p>
<section id="cli">
<h3>ä½¿ç”¨CLI<a class="headerlink" href="#cli" title="Link to this heading">ïƒ</a></h3>
<p><strong>å…¨å‚æ•°æ¨¡å‹ï¼š</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">CUDA_VISIBLE_DEVICES</span><span class="o">=</span><span class="m">0</span><span class="w"> </span>swift<span class="w"> </span>infer<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--model<span class="w"> </span>Qwen/Qwen2.5-7B-Instruct<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--stream<span class="w"> </span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--infer_backend<span class="w"> </span>transformers<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--max_new_tokens<span class="w"> </span><span class="m">2048</span>
</pre></div>
</div>
<p><strong>LoRAæ¨¡å‹ï¼š</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">CUDA_VISIBLE_DEVICES</span><span class="o">=</span><span class="m">0</span><span class="w"> </span>swift<span class="w"> </span>infer<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--model<span class="w"> </span>Qwen/Qwen2.5-7B-Instruct<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--adapters<span class="w"> </span>swift/test_lora<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--stream<span class="w"> </span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--infer_backend<span class="w"> </span>transformers<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--temperature<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--max_new_tokens<span class="w"> </span><span class="m">2048</span>
</pre></div>
</div>
<p><strong>å‘½ä»¤è¡Œæ¨ç†æŒ‡ä»¤</strong></p>
<p>ä»¥ä¸Šä¸ºäº¤äº’å¼å‘½ä»¤è¡Œç•Œé¢æ¨ç†ï¼Œè„šæœ¬è¿è¡Œåä»…éœ€åœ¨terminalä¸­è¾“å…¥queryå³å¯ã€‚ä½ ä¹Ÿå¯ä»¥è¾“å…¥ä»¥ä¸‹ç‰¹æ®ŠæŒ‡ä»¤ï¼š</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">multi-line</span></code>: åˆ‡æ¢åˆ°å¤šè¡Œæ¨¡å¼ï¼Œåœ¨è¾“å…¥ä¸­æ”¯æŒæ¢è¡Œè¾“å…¥ï¼Œä»¥<code class="docutils literal notranslate"><span class="pre">#</span></code>ä»£è¡¨è¾“å…¥ç»“æŸã€‚</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">single-line</span></code>: åˆ‡æ¢åˆ°å•è¡Œæ¨¡å¼ï¼Œä»¥æ¢è¡Œä»£è¡¨è¾“å…¥ç»“æŸã€‚</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reset-system</span></code>: é‡ç½®systemå¹¶æ¸…ç©ºå†å²è®°å½•ã€‚</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clear</span></code>: æ¸…é™¤å†å²è®°å½•ã€‚</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">quit</span></code> or <code class="docutils literal notranslate"><span class="pre">exit</span></code>: é€€å‡ºå¯¹è¯ã€‚</p></li>
</ul>
<p><strong>å¤šæ¨¡æ€æ¨¡å‹</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">CUDA_VISIBLE_DEVICES</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="se">\</span>
<span class="nv">MAX_PIXELS</span><span class="o">=</span><span class="m">1003520</span><span class="w"> </span><span class="se">\</span>
<span class="nv">VIDEO_MAX_PIXELS</span><span class="o">=</span><span class="m">50176</span><span class="w"> </span><span class="se">\</span>
<span class="nv">FPS_MAX_FRAMES</span><span class="o">=</span><span class="m">12</span><span class="w"> </span><span class="se">\</span>
swift<span class="w"> </span>infer<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--model<span class="w"> </span>Qwen/Qwen2.5-VL-3B-Instruct<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--stream<span class="w"> </span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--infer_backend<span class="w"> </span>transformers<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--max_new_tokens<span class="w"> </span><span class="m">2048</span>
</pre></div>
</div>
<p>å¦‚æœè¦è¿›è¡Œå¤šæ¨¡æ€æ¨¡å‹çš„æ¨ç†ï¼Œå¯ä»¥åœ¨queryä¸­æ·»åŠ <code class="docutils literal notranslate"><span class="pre">&lt;image&gt;/&lt;video&gt;/&lt;audio&gt;</span></code>ç­‰æ ‡ç­¾ï¼ˆä»£è¡¨å›¾åƒè¡¨å¾åœ¨<code class="docutils literal notranslate"><span class="pre">inputs_embeds</span></code>ä¸­çš„ä½ç½®ï¼‰ï¼Œä¾‹å¦‚è¾“å…¥<code class="docutils literal notranslate"><span class="pre">&lt;image&gt;&lt;image&gt;è¿™ä¸¤å¼ å›¾æœ‰å•¥åŒºåˆ«</span></code>ï¼Œ<code class="docutils literal notranslate"><span class="pre">&lt;video&gt;æè¿°è¿™æ®µè§†é¢‘</span></code>ã€‚ç„¶åæ ¹æ®æç¤ºè¾“å…¥ç›¸åº”çš„å›¾åƒ/è§†é¢‘/éŸ³é¢‘å³å¯ã€‚</p>
<p>ä»¥ä¸‹ä¸ºä¸€ä¸ªæ¨ç†çš„ç¤ºä¾‹ï¼š</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;&lt;&lt; &lt;image&gt;&lt;image&gt;è¿™ä¸¤å¼ å›¾æœ‰ä»€ä¹ˆåŒºåˆ«
Input an image path or URL &lt;&lt;&lt; http://modelscope-open.oss-cn-hangzhou.aliyuncs.com/images/cat.png
Input an image path or URL &lt;&lt;&lt; http://modelscope-open.oss-cn-hangzhou.aliyuncs.com/images/animal.png
è¿™ä¸¤å¼ å›¾ç‰‡çš„åŒºåˆ«åœ¨äºå®ƒä»¬æ‰€å±•ç¤ºçš„åŠ¨ç‰©å’Œåœºæ™¯ã€‚

1. **ç¬¬ä¸€å¼ å›¾ç‰‡**ï¼š
  - å±•ç¤ºäº†ä¸€åªå°çŒ«ã€‚
  - å°çŒ«æœ‰å¤§å¤§çš„çœ¼ç›ï¼Œè¡¨æƒ…æ˜¾å¾—æœ‰äº›å›°æƒ‘æˆ–å¥½å¥‡ã€‚
  - èƒŒæ™¯æ˜¯æ¨¡ç³Šçš„ï¼Œå¯èƒ½æ˜¯å®¤å†…ç¯å¢ƒã€‚

2. **ç¬¬äºŒå¼ å›¾ç‰‡**ï¼š
  - å±•ç¤ºäº†ä¸€ç¾¤ç¾Šã€‚
  - ç¾Šä»¬ç«™åœ¨è‰åœ°ä¸Šï¼ŒèƒŒæ™¯æ˜¯ç»¿è‰²çš„å±±ä¸˜å’Œè“å¤©ç™½äº‘ã€‚
  - ç¾Šçš„è¡¨æƒ…çœ‹èµ·æ¥å¾ˆå¹³é™ï¼Œä¼¼ä¹åœ¨äº«å—å¤§è‡ªç„¶çš„ç¯å¢ƒã€‚

æ€»ç»“æ¥è¯´ï¼Œç¬¬ä¸€å¼ å›¾ç‰‡æ˜¯ä¸€åªå°çŒ«ï¼Œè€Œç¬¬äºŒå¼ å›¾ç‰‡æ˜¯ä¸€ç¾¤ç¾Šã€‚
--------------------------------------------------
&lt;&lt;&lt; clear
&lt;&lt;&lt; &lt;video&gt;æè¿°è¿™æ®µè§†é¢‘
Input a video path or URL &lt;&lt;&lt; https://modelscope-open.oss-cn-hangzhou.aliyuncs.com/images/baby.mp4
The video shows a baby wearing sunglasses sitting on a bed and reading a book. The baby is holding the book with both hands and appears to be focused on the pages. The baby&#39;s feet are visible in the frame, and they are moving slightly as they read. The background of the video shows a room with a bed and some furniture.
</pre></div>
</div>
<p><strong>æ•°æ®é›†æ¨ç†ï¼š</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">CUDA_VISIBLE_DEVICES</span><span class="o">=</span><span class="m">0</span><span class="w"> </span>swift<span class="w"> </span>infer<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--model<span class="w"> </span>Qwen/Qwen2.5-7B-Instruct<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--stream<span class="w"> </span><span class="nb">true</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--infer_backend<span class="w"> </span>transformers<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--val_dataset<span class="w"> </span>AI-ModelScope/alpaca-gpt4-data-zh<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--max_new_tokens<span class="w"> </span><span class="m">2048</span>
</pre></div>
</div>
<p>ä»¥ä¸Šæä¾›äº†å…¨å‚æ•°å’ŒLoRAæµå¼æ¨ç†çš„ä¾‹å­ï¼Œä»¥ä¸‹ä»‹ç»æ›´å¤šSWIFTä¸­çš„æ¨ç†æŠ€æœ¯ï¼š</p>
<ul class="simple">
<li><p>ç•Œé¢æ¨ç†ï¼šä½ å¯ä»¥å°†<code class="docutils literal notranslate"><span class="pre">swift</span> <span class="pre">infer</span></code>æ”¹æˆ<code class="docutils literal notranslate"><span class="pre">swift</span> <span class="pre">app</span></code>ã€‚</p></li>
<li><p>batchæ¨ç†ï¼š<code class="docutils literal notranslate"><span class="pre">infer_backend=transformers</span></code>å¯ä»¥æŒ‡å®š<code class="docutils literal notranslate"><span class="pre">--max_batch_size</span></code>å¯¹å¤§æ¨¡å‹å’Œå¤šæ¨¡æ€å¤§æ¨¡å‹è¿›è¡Œbatchæ¨ç†ï¼Œå…·ä½“å‚è€ƒ<a class="reference external" href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/transformers/batch_ddp.sh">è¿™é‡Œ</a>ã€‚åœ¨è¿›è¡Œbatchæ¨ç†æ—¶ï¼Œä½ ä¸èƒ½è®¾ç½®<code class="docutils literal notranslate"><span class="pre">--stream</span> <span class="pre">true</span></code>ã€‚</p></li>
<li><p>DDP/device_mapæ¨ç†ï¼š<code class="docutils literal notranslate"><span class="pre">infer_backend=transformers</span></code>æ”¯æŒä½¿ç”¨DDP/device_mapæŠ€æœ¯è¿›è¡Œå¹¶è¡Œæ¨ç†ï¼Œå…·ä½“å‚è€ƒ<a class="reference external" href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/transformers/mllm_device_map.sh">è¿™é‡Œ</a>ã€‚</p></li>
<li><p>æ¨ç†åŠ é€Ÿï¼šswiftæ”¯æŒä½¿ç”¨vllm/sglang/lmdeployå¯¹æ¨ç†ã€éƒ¨ç½²å’Œè¯„æµ‹æ¨¡å—è¿›è¡Œæ¨ç†åŠ é€Ÿï¼Œåªéœ€è¦é¢å¤–æŒ‡å®š<code class="docutils literal notranslate"><span class="pre">--infer_backend</span> <span class="pre">vllm/sglang/lmdeploy</span></code>å³å¯ã€‚å¯ä»¥å‚è€ƒ<a class="reference external" href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/vllm/mllm_ddp.sh">è¿™é‡Œ</a>ã€‚</p></li>
<li><p>å¤šæ¨¡æ€æ¨¡å‹ï¼šæˆ‘ä»¬æä¾›äº†<a class="reference external" href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/transformers/mllm_device_map.sh">transformers</a>/<a class="reference external" href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/vllm/mllm_tp.sh">vllm</a>/<a class="reference external" href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/lmdeploy/mllm_tp.sh">lmdeploy</a>å¯¹å¤šæ¨¡æ€æ¨¡å‹è¿›è¡Œå¤šGPUæ¨ç†çš„shellè„šæœ¬ã€‚</p></li>
<li><p>é‡åŒ–æ¨¡å‹ï¼šç›´æ¥é€‰æ‹©GPTQã€AWQã€BNBé‡åŒ–çš„æ¨¡å‹ï¼Œä¾‹å¦‚ï¼š<code class="docutils literal notranslate"><span class="pre">--model</span> <span class="pre">Qwen/Qwen2.5-7B-Instruct-GPTQ-Int4</span></code>å³å¯ã€‚</p></li>
<li><p>æ›´å¤šæ¨¡å‹ç±»å‹ï¼šæˆ‘ä»¬æä¾›äº†<a class="reference external" href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/transformers/bert.sh">bert</a>ã€<a class="reference external" href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/transformers/reward_model.sh">reward_model</a>ã€<a class="reference external" href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/transformers/prm.sh">prm</a>çš„æ¨ç†è„šæœ¬ã€‚</p></li>
</ul>
<p><strong>å°å¸–å£«ï¼š</strong></p>
<ul class="simple">
<li><p>SWIFTä¼šå°†æ¨ç†ç»“æœä¿å­˜èµ·æ¥ï¼Œä½ å¯ä»¥é€šè¿‡<code class="docutils literal notranslate"><span class="pre">--result_path</span></code>æŒ‡å®šä¿å­˜è·¯å¾„ã€‚</p></li>
<li><p>å¦‚æœè¦è¾“å‡ºlogprobsï¼Œåªéœ€è¦åœ¨æ¨ç†æ—¶ï¼ŒæŒ‡å®š<code class="docutils literal notranslate"><span class="pre">--logprobs</span> <span class="pre">true</span></code>å³å¯ã€‚SWIFTä¼šä¿å­˜ã€‚æ³¨æ„ï¼Œè®¾ç½®<code class="docutils literal notranslate"><span class="pre">--stream</span> <span class="pre">true</span></code>å°†ä¸ä¼šå­˜å‚¨ã€‚</p></li>
<li><p>infer_backendä¸º'transformers'æ”¯æŒæ‰€æœ‰swiftå·²æ”¯æŒæ¨¡å‹çš„æ¨ç†ï¼Œè€Œinfer_backendä¸ºvllm/sglang/lmdeployåªæ”¯æŒéƒ¨åˆ†æ¨¡å‹ï¼Œå…·ä½“è¯·å‚è€ƒ<a class="reference external" href="https://docs.vllm.ai/en/latest/models/supported_models.html">vllm</a>ã€<a class="reference external" href="https://docs.sglang.ai/supported_models/generative_models.html">sglang</a>ã€<a class="reference external" href="https://lmdeploy.readthedocs.io/en/latest/supported_models/supported_models.html">lmdeploy</a>æ–‡æ¡£ã€‚</p></li>
<li><p>ä½¿ç”¨<code class="docutils literal notranslate"><span class="pre">--infer_backend</span> <span class="pre">vllm</span></code>å‡ºç°OOMï¼Œå¯ä»¥é€šè¿‡é™ä½<code class="docutils literal notranslate"><span class="pre">--vllm_max_model_len</span></code>ï¼Œ<code class="docutils literal notranslate"><span class="pre">--vllm_max_num_seqs</span></code>ï¼Œé€‰æ‹©åˆé€‚çš„<code class="docutils literal notranslate"><span class="pre">--vllm_gpu_memory_utilization</span></code>ï¼Œè®¾ç½®<code class="docutils literal notranslate"><span class="pre">--vllm_enforce_eager</span> <span class="pre">true</span></code>ã€‚æˆ–è€…ä½¿ç”¨tensorå¹¶è¡Œ<code class="docutils literal notranslate"><span class="pre">--vllm_tensor_parallel_size</span></code>æ¥è§£å†³ã€‚</p></li>
<li><p>ä½¿ç”¨<code class="docutils literal notranslate"><span class="pre">--infer_backend</span> <span class="pre">vllm</span></code>æ¨ç†å¤šæ¨¡æ€æ¨¡å‹ï¼Œéœ€è¦ä¼ å…¥å¤šå¼ å›¾ç‰‡ã€‚å¯ä»¥è®¾ç½®<code class="docutils literal notranslate"><span class="pre">--vllm_limit_mm_per_prompt</span></code>è§£å†³ï¼Œä¾‹å¦‚ï¼š<code class="docutils literal notranslate"><span class="pre">--vllm_limit_mm_per_prompt</span> <span class="pre">'{&quot;image&quot;:</span> <span class="pre">10,</span> <span class="pre">&quot;video&quot;:</span> <span class="pre">5}'</span></code>ã€‚</p></li>
<li><p>æ¨ç†qwen2-vl/qwen2.5-vlå‡ºç°OOMï¼Œå¯ä»¥é€šè¿‡è®¾ç½®<code class="docutils literal notranslate"><span class="pre">MAX_PIXELS</span></code>ã€<code class="docutils literal notranslate"><span class="pre">VIDEO_MAX_PIXELS</span></code>ã€<code class="docutils literal notranslate"><span class="pre">FPS_MAX_FRAMES</span></code>è§£å†³ï¼Œå¯ä»¥å‚è€ƒ<a class="reference external" href="https://github.com/modelscope/ms-swift/blob/main/examples/app/mllm.sh">è¿™é‡Œ</a>ã€‚</p></li>
<li><p>swiftå†…ç½®å¯¹è¯æ¨¡æ¿ä¸ä½¿ç”¨transformersè¿è¡Œçš„å¯¹è¯æ¨¡æ¿å¯¹é½ï¼Œæµ‹è¯•å‚è€ƒ<a class="reference external" href="https://github.com/modelscope/ms-swift/blob/main/tests/test_align/test_template/test_vision.py">è¿™é‡Œ</a>ã€‚å¦‚æœå‡ºç°æœªå¯¹é½æƒ…å†µï¼Œæ¬¢è¿æissue/PRä¿®æ­£ã€‚</p></li>
</ul>
</section>
<section id="web-ui">
<h3>ä½¿ç”¨Web-UI<a class="headerlink" href="#web-ui" title="Link to this heading">ïƒ</a></h3>
<p>å¦‚æœä½ è¦ä½¿ç”¨ç•Œé¢çš„æ–¹å¼è¿›è¡Œæ¨ç†ï¼Œå¯ä»¥æŸ¥çœ‹<a class="reference internal" href="../GetStarted/Web-UI.html"><span class="doc">Web-UIæ–‡æ¡£</span></a>ã€‚</p>
</section>
<section id="python">
<h3>ä½¿ç”¨Python<a class="headerlink" href="#python" title="Link to this heading">ïƒ</a></h3>
<p>æ–‡æœ¬æ¨¡å‹ï¼š</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;CUDA_VISIBLE_DEVICES&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">swift.infer_engine</span><span class="w"> </span><span class="kn">import</span> <span class="n">TransformersEngine</span><span class="p">,</span> <span class="n">RequestConfig</span><span class="p">,</span> <span class="n">InferRequest</span>
<span class="n">model</span> <span class="o">=</span> <span class="s1">&#39;Qwen/Qwen2.5-0.5B-Instruct&#39;</span>

<span class="c1"># åŠ è½½æ¨ç†å¼•æ“</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">TransformersEngine</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">max_batch_size</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">request_config</span> <span class="o">=</span> <span class="n">RequestConfig</span><span class="p">(</span><span class="n">max_tokens</span><span class="o">=</span><span class="mi">512</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># è¿™é‡Œä½¿ç”¨äº†2ä¸ªinfer_requestæ¥å±•ç¤ºbatchæ¨ç†</span>
<span class="n">infer_requests</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">InferRequest</span><span class="p">(</span><span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;who are you?&#39;</span><span class="p">}]),</span>
    <span class="n">InferRequest</span><span class="p">(</span><span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;æµ™æ±Ÿçš„çœä¼šåœ¨å“ªï¼Ÿ&#39;</span><span class="p">},</span>
                           <span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;assistant&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;æµ™æ±Ÿçœçš„çœä¼šæ˜¯æ­å·ã€‚&#39;</span><span class="p">},</span>
                           <span class="p">{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;è¿™é‡Œæœ‰ä»€ä¹ˆå¥½ç©çš„åœ°æ–¹&#39;</span><span class="p">},]),</span>
<span class="p">]</span>
<span class="n">resp_list</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">infer</span><span class="p">(</span><span class="n">infer_requests</span><span class="p">,</span> <span class="n">request_config</span><span class="p">)</span>
<span class="n">query0</span> <span class="o">=</span> <span class="n">infer_requests</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">messages</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;content&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;response0: </span><span class="si">{</span><span class="n">resp_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;response1: </span><span class="si">{</span><span class="n">resp_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>å¤šæ¨¡æ€æ¨¡å‹ï¼š</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;CUDA_VISIBLE_DEVICES&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;0&#39;</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;MAX_PIXELS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;1003520&#39;</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;VIDEO_MAX_PIXELS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;50176&#39;</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;FPS_MAX_FRAMES&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;12&#39;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">swift.infer_engine</span><span class="w"> </span><span class="kn">import</span> <span class="n">TransformersEngine</span><span class="p">,</span> <span class="n">RequestConfig</span><span class="p">,</span> <span class="n">InferRequest</span>
<span class="n">model</span> <span class="o">=</span> <span class="s1">&#39;Qwen/Qwen2.5-VL-3B-Instruct&#39;</span>

<span class="c1"># åŠ è½½æ¨ç†å¼•æ“</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">TransformersEngine</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">max_batch_size</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">request_config</span> <span class="o">=</span> <span class="n">RequestConfig</span><span class="p">(</span><span class="n">max_tokens</span><span class="o">=</span><span class="mi">512</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># è¿™é‡Œä½¿ç”¨äº†3ä¸ªinfer_requestæ¥å±•ç¤ºbatchæ¨ç†</span>
<span class="n">infer_requests</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">InferRequest</span><span class="p">(</span><span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;who are you?&#39;</span><span class="p">}]),</span>
    <span class="n">InferRequest</span><span class="p">(</span><span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;image&gt;&lt;image&gt;ä¸¤å¼ å›¾çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&#39;</span><span class="p">}],</span>
                 <span class="n">images</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;http://modelscope-open.oss-cn-hangzhou.aliyuncs.com/images/cat.png&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;http://modelscope-open.oss-cn-hangzhou.aliyuncs.com/images/animal.png&#39;</span><span class="p">]),</span>
    <span class="n">InferRequest</span><span class="p">(</span><span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;video&gt;describe the video&#39;</span><span class="p">}],</span>
                 <span class="n">videos</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;https://modelscope-open.oss-cn-hangzhou.aliyuncs.com/images/baby.mp4&#39;</span><span class="p">]),</span>
<span class="p">]</span>
<span class="n">resp_list</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">infer</span><span class="p">(</span><span class="n">infer_requests</span><span class="p">,</span> <span class="n">request_config</span><span class="p">)</span>
<span class="n">query0</span> <span class="o">=</span> <span class="n">infer_requests</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">messages</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;content&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;response0: </span><span class="si">{</span><span class="n">resp_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;response1: </span><span class="si">{</span><span class="n">resp_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;response2: </span><span class="si">{</span><span class="n">resp_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>æˆ‘ä»¬ä¹Ÿæä¾›äº†æ›´å¤šä½¿ç”¨pythonæ¨ç†çš„demoï¼š</p>
<ul class="simple">
<li><p>ä½¿ç”¨æµå¼æ¨ç†ä»¥åŠ<code class="docutils literal notranslate"><span class="pre">VllmEngine</span></code>ã€<code class="docutils literal notranslate"><span class="pre">SglangEngine</span></code>ã€<code class="docutils literal notranslate"><span class="pre">LmdeployEngine</span></code>è¿›è¡Œæ¨ç†åŠ é€Ÿï¼Œå¯ä»¥å‚è€ƒ<a class="reference external" href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/demo.py">è¿™é‡Œ</a>ã€‚</p></li>
<li><p>å¤šæ¨¡æ€æ¨ç†ï¼šé™¤äº†ä¸Šè¿°å¤šæ¨¡æ€è¾“å…¥æ ¼å¼å¤–ï¼Œswiftå…¼å®¹OpenAIçš„å¤šæ¨¡æ€è¾“å…¥æ ¼å¼ï¼Œå‚è€ƒ<a class="reference external" href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/demo_mllm.py">è¿™é‡Œ</a>ã€‚</p></li>
<li><p>groundingä»»åŠ¡ï¼šå¯¹å¤šæ¨¡æ€æ¨¡å‹è¿›è¡ŒGroundingä»»åŠ¡ç”»æ¡†ï¼Œå¯ä»¥å‚è€ƒ<a class="reference external" href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/demo_grounding.py">è¿™é‡Œ</a>ã€‚</p></li>
<li><p>å¤šLoRAæ¨ç†ï¼šå‚è€ƒ<a class="reference external" href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/demo_lora.py">è¿™é‡Œ</a>ã€‚</p></li>
<li><p>agentæ¨ç†ï¼šå‚è€ƒ<a class="reference external" href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/demo_agent.py">è¿™é‡Œ</a>ã€‚</p></li>
<li><p>å¼‚æ­¥æ¥å£ï¼šä½¿ç”¨<code class="docutils literal notranslate"><span class="pre">engine.infer_async</span></code>è¿›è¡Œpythonæ–¹å¼æ¨ç†ï¼Œå‚è€ƒ<a class="reference external" href="https://github.com/modelscope/ms-swift/blob/main/examples/infer/demo.py">è¿™é‡Œ</a>ã€‚</p></li>
</ul>
</section>
</section>
<section id="id3">
<h2>éƒ¨ç½²<a class="headerlink" href="#id3" title="Link to this heading">ïƒ</a></h2>
<p>å¦‚æœè¦æŸ¥çœ‹LoRAå¾®è°ƒåæ¨¡å‹çš„éƒ¨ç½²ï¼Œå¯ä»¥å‚è€ƒ<a class="reference external" href="./Pre-training-and-Fine-tuning.md#%E9%83%A8%E7%BD%B2%E5%BE%AE%E8%B0%83%E5%90%8E%E6%A8%A1%E5%9E%8B">é¢„è®­ç»ƒä¸å¾®è°ƒæ–‡æ¡£</a>ã€‚</p>
<p>è¿™é‡Œä¸»è¦ä»‹ç»å¯¹å¤šæ¨¡æ€æ¨¡å‹çš„éƒ¨ç½²å’Œè°ƒç”¨ï¼Œæ–‡æœ¬å¤§æ¨¡å‹æˆ‘ä»¬ç»™å‡ºç®€å•çš„éƒ¨ç½²å’Œè°ƒç”¨çš„ç®€å•æ¡ˆä¾‹ï¼š</p>
<p>æœåŠ¡ç«¯éƒ¨ç½²ï¼š</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">CUDA_VISIBLE_DEVICES</span><span class="o">=</span><span class="m">0</span><span class="w"> </span>swift<span class="w"> </span>deploy<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--model<span class="w"> </span>Qwen/Qwen2.5-7B-Instruct<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--infer_backend<span class="w"> </span>vllm<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--max_new_tokens<span class="w"> </span><span class="m">2048</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--served_model_name<span class="w"> </span>Qwen2.5-7B-Instruct
</pre></div>
</div>
<p>å®¢æˆ·ç«¯è°ƒç”¨æµ‹è¯•ï¼š</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>http://localhost:8000/v1/chat/completions<span class="w"> </span><span class="se">\</span>
-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">&quot;model&quot;: &quot;Qwen2.5-7B-Instruct&quot;,</span>
<span class="s1">&quot;messages&quot;: [{&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;æ™šä¸Šç¡ä¸ç€è§‰æ€ä¹ˆåŠï¼Ÿ&quot;}],</span>
<span class="s1">&quot;max_tokens&quot;: 256,</span>
<span class="s1">&quot;temperature&quot;: 0</span>
<span class="s1">}&#39;</span>
</pre></div>
</div>
<section id="id4">
<h3>æœåŠ¡ç«¯<a class="headerlink" href="#id4" title="Link to this heading">ïƒ</a></h3>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># test env: pip install transformers==4.51.3 vllm==0.8.5.post1</span>
<span class="nv">CUDA_VISIBLE_DEVICES</span><span class="o">=</span><span class="m">0</span><span class="w"> </span><span class="se">\</span>
<span class="nv">MAX_PIXELS</span><span class="o">=</span><span class="m">1003520</span><span class="w"> </span><span class="se">\</span>
<span class="nv">VIDEO_MAX_PIXELS</span><span class="o">=</span><span class="m">50176</span><span class="w"> </span><span class="se">\</span>
<span class="nv">FPS_MAX_FRAMES</span><span class="o">=</span><span class="m">12</span><span class="w"> </span><span class="se">\</span>
swift<span class="w"> </span>deploy<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--model<span class="w"> </span>Qwen/Qwen2.5-VL-3B-Instruct<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--infer_backend<span class="w"> </span>vllm<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--vllm_gpu_memory_utilization<span class="w"> </span><span class="m">0</span>.9<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--vllm_max_model_len<span class="w"> </span><span class="m">8192</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--max_new_tokens<span class="w"> </span><span class="m">2048</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--vllm_limit_mm_per_prompt<span class="w"> </span><span class="s1">&#39;{&quot;image&quot;: 5, &quot;video&quot;: 2}&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--served_model_name<span class="w"> </span>Qwen2.5-VL-3B-Instruct
</pre></div>
</div>
</section>
<section id="id5">
<h3>å®¢æˆ·ç«¯<a class="headerlink" href="#id5" title="Link to this heading">ïƒ</a></h3>
<p>è¿™é‡Œä»‹ç»3ç§è°ƒç”¨å®¢æˆ·ç«¯çš„æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯curlã€openaiåº“å’Œswiftå®¢æˆ·ç«¯ã€‚</p>
<p>æ–¹æ¡ˆä¸€: curl</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl<span class="w"> </span>http://localhost:8000/v1/chat/completions<span class="w"> </span><span class="se">\</span>
-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">&quot;model&quot;: &quot;Qwen2.5-VL-3B-Instruct&quot;,</span>
<span class="s1">&quot;messages&quot;: [{&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: [</span>
<span class="s1">    {&quot;type&quot;: &quot;image&quot;, &quot;image&quot;: &quot;http://modelscope-open.oss-cn-hangzhou.aliyuncs.com/images/cat.png&quot;},</span>
<span class="s1">    {&quot;type&quot;: &quot;image&quot;, &quot;image&quot;: &quot;http://modelscope-open.oss-cn-hangzhou.aliyuncs.com/images/animal.png&quot;},</span>
<span class="s1">    {&quot;type&quot;: &quot;text&quot;, &quot;text&quot;: &quot;ä¸¤å¼ å›¾çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&quot;}</span>
<span class="s1">]}],</span>
<span class="s1">&quot;max_tokens&quot;: 256,</span>
<span class="s1">&quot;temperature&quot;: 0</span>
<span class="s1">}&#39;</span>
</pre></div>
</div>
<p>æ–¹æ¡ˆ2: openaiåº“</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">openai</span><span class="w"> </span><span class="kn">import</span> <span class="n">OpenAI</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">OpenAI</span><span class="p">(</span>
    <span class="n">api_key</span><span class="o">=</span><span class="s1">&#39;EMPTY&#39;</span><span class="p">,</span>
    <span class="n">base_url</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;http://127.0.0.1:8000/v1&#39;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">list</span><span class="p">()</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">id</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;model: </span><span class="si">{</span><span class="n">model</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">messages</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;video&#39;</span><span class="p">,</span> <span class="s1">&#39;video&#39;</span><span class="p">:</span> <span class="s1">&#39;https://modelscope-open.oss-cn-hangzhou.aliyuncs.com/images/baby.mp4&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;describe the video&#39;</span><span class="p">}</span>
<span class="p">]}]</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chat</span><span class="o">.</span><span class="n">completions</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">messages</span><span class="o">=</span><span class="n">messages</span><span class="p">,</span> <span class="n">max_tokens</span><span class="o">=</span><span class="mi">512</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">query</span> <span class="o">=</span> <span class="n">messages</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;content&#39;</span><span class="p">]</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;query: </span><span class="si">{</span><span class="n">query</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;response: </span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># base64</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">base64</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://modelscope-open.oss-cn-hangzhou.aliyuncs.com/images/baby.mp4&#39;</span><span class="p">)</span>
<span class="n">base64_encoded</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="n">messages</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;video&#39;</span><span class="p">,</span> <span class="s1">&#39;video&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;data:video/mp4;base64,</span><span class="si">{</span><span class="n">base64_encoded</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;describe the video&#39;</span><span class="p">}</span>
<span class="p">]}]</span>

<span class="n">gen</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">chat</span><span class="o">.</span><span class="n">completions</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">messages</span><span class="o">=</span><span class="n">messages</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;query: </span><span class="si">{</span><span class="n">query</span><span class="si">}</span><span class="se">\n</span><span class="s1">response: &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">gen</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">chunk</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">chunk</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">delta</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
</pre></div>
</div>
<p>æ–¹æ¡ˆä¸‰ï¼šswiftå®¢æˆ·ç«¯</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">swift</span><span class="w"> </span><span class="kn">import</span> <span class="n">InferRequest</span><span class="p">,</span> <span class="n">InferClient</span><span class="p">,</span> <span class="n">RequestConfig</span><span class="p">,</span> <span class="n">InferStats</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">InferClient</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">8000</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;models: </span><span class="si">{</span><span class="n">engine</span><span class="o">.</span><span class="n">models</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">metric</span> <span class="o">=</span> <span class="n">InferStats</span><span class="p">()</span>
<span class="n">request_config</span> <span class="o">=</span> <span class="n">RequestConfig</span><span class="p">(</span><span class="n">max_tokens</span><span class="o">=</span><span class="mi">512</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># è¿™é‡Œä½¿ç”¨äº†3ä¸ªinfer_requestæ¥å±•ç¤ºbatchæ¨ç†</span>
<span class="c1"># æ”¯æŒä¼ å…¥æœ¬åœ°è·¯å¾„ã€base64å’Œurl</span>
<span class="n">infer_requests</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">InferRequest</span><span class="p">(</span><span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;who are you?&#39;</span><span class="p">}]),</span>
    <span class="n">InferRequest</span><span class="p">(</span><span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;image&gt;&lt;image&gt;ä¸¤å¼ å›¾çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&#39;</span><span class="p">}],</span>
                 <span class="n">images</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;http://modelscope-open.oss-cn-hangzhou.aliyuncs.com/images/cat.png&#39;</span><span class="p">,</span>
                         <span class="s1">&#39;http://modelscope-open.oss-cn-hangzhou.aliyuncs.com/images/animal.png&#39;</span><span class="p">]),</span>
    <span class="n">InferRequest</span><span class="p">(</span><span class="n">messages</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;video&gt;describe the video&#39;</span><span class="p">}],</span>
                 <span class="n">videos</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;https://modelscope-open.oss-cn-hangzhou.aliyuncs.com/images/baby.mp4&#39;</span><span class="p">]),</span>
<span class="p">]</span>

<span class="n">resp_list</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">infer</span><span class="p">(</span><span class="n">infer_requests</span><span class="p">,</span> <span class="n">request_config</span><span class="p">,</span> <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="n">metric</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;response0: </span><span class="si">{</span><span class="n">resp_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;response1: </span><span class="si">{</span><span class="n">resp_list</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;response2: </span><span class="si">{</span><span class="n">resp_list</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">metric</span><span class="o">.</span><span class="n">compute</span><span class="p">())</span>
<span class="n">metric</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>

<span class="c1"># base64</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">base64</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://modelscope-open.oss-cn-hangzhou.aliyuncs.com/images/baby.mp4&#39;</span><span class="p">)</span>
<span class="n">base64_encoded</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">content</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="n">messages</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;role&#39;</span><span class="p">:</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;video&#39;</span><span class="p">,</span> <span class="s1">&#39;video&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;data:video/mp4;base64,</span><span class="si">{</span><span class="n">base64_encoded</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;describe the video&#39;</span><span class="p">}</span>
<span class="p">]}]</span>
<span class="n">infer_request</span> <span class="o">=</span> <span class="n">InferRequest</span><span class="p">(</span><span class="n">messages</span><span class="o">=</span><span class="n">messages</span><span class="p">)</span>
<span class="n">request_config</span> <span class="o">=</span> <span class="n">RequestConfig</span><span class="p">(</span><span class="n">max_tokens</span><span class="o">=</span><span class="mi">512</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">gen_list</span> <span class="o">=</span> <span class="n">engine</span><span class="o">.</span><span class="n">infer</span><span class="p">([</span><span class="n">infer_request</span><span class="p">],</span> <span class="n">request_config</span><span class="p">,</span> <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="n">metric</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;response0: &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">gen_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
    <span class="k">if</span> <span class="n">chunk</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">chunk</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">delta</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">metric</span><span class="o">.</span><span class="n">compute</span><span class="p">())</span>
</pre></div>
</div>
<p>æˆ‘ä»¬ä¹Ÿæä¾›äº†æ›´å¤šéƒ¨ç½²çš„demoï¼š</p>
<ul class="simple">
<li><p>å¤šLoRAéƒ¨ç½²ä¸è°ƒç”¨: å‚è€ƒ<a class="reference external" href="https://github.com/modelscope/ms-swift/tree/main/examples/deploy/lora">è¿™é‡Œ</a>ã€‚</p></li>
<li><p>Baseæ¨¡å‹çš„éƒ¨ç½²ä¸è°ƒç”¨: å‚è€ƒ<a class="reference external" href="https://github.com/modelscope/ms-swift/tree/main/examples/deploy/client/llm/base">è¿™é‡Œ</a>ã€‚</p></li>
<li><p>æ›´å¤šæ¨¡å‹ç±»å‹: æˆ‘ä»¬æä¾›äº†<a class="reference external" href="https://github.com/modelscope/ms-swift/tree/main/examples/deploy/bert">bert</a>ã€<a class="reference external" href="https://github.com/modelscope/ms-swift/tree/main/examples/deploy/reward_model">reward_model</a>çš„éƒ¨ç½²è„šæœ¬ã€‚</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; ç‰ˆæƒæ‰€æœ‰ 2024, Ascendã€‚</p>
  </div>

  åˆ©ç”¨ <a href="https://www.sphinx-doc.org/">Sphinx</a> æ„å»ºï¼Œä½¿ç”¨çš„ 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">ä¸»é¢˜</a>
    ç”± <a href="https://readthedocs.org">Read the Docs</a> å¼€å‘.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>